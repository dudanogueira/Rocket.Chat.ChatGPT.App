{"version":3,"sources":["src/definition/api/ApiEndpoint.ts"],"names":[],"mappings":";;;AAAA,4CAA8C;AAK9C,yDAAyD;AACzD,MAAsB,WAAW;IAO7B,YAAmB,GAAS;QAAT,QAAG,GAAH,GAAG,CAAM;IAAG,CAAC;IAEhC;;;OAGG;IACO,OAAO,CAAC,OAAa;QAC3B,OAAO;YACH,MAAM,EAAE,0BAAc,CAAC,EAAE;YACzB,OAAO;SACV,CAAC;IACN,CAAC;IAED;;;;OAIG;IACO,IAAI,CAAC,QAA0B;QACrC,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE;YACxD,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC;YAC1C,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB,CAAC;SACzD;QAED,OAAO,QAAQ,CAAC;IACpB,CAAC;CACJ;AAjCD,kCAiCC","file":"ApiEndpoint.js","sourcesContent":["import { HttpStatusCode } from '../accessors';\nimport { IApp } from '../IApp';\nimport { IApiEndpoint } from './IApiEndpoint';\nimport { IApiResponse, IApiResponseJSON } from './IResponse';\n\n/** Represents an api endpoint that is being provided. */\nexport abstract class ApiEndpoint implements IApiEndpoint {\n    /**\n     * The last part of the api URL. Example: https://{your-server-address}/api/apps/public/{your-app-id}/{path}\n     * or https://{your-server-address}/api/apps/private/{your-app-id}/{private-hash}/{path}\n     */\n    public path: string;\n\n    constructor(public app: IApp) {}\n\n    /**\n     * Return response with status 200 (OK) and a optional content\n     * @param content\n     */\n    protected success(content?: any): IApiResponse {\n        return {\n            status: HttpStatusCode.OK,\n            content,\n        };\n    }\n\n    /**\n     * Return a json response adding Content Type header as\n     * application/json if not already provided\n     * @param reponse\n     */\n    protected json(response: IApiResponseJSON): IApiResponse {\n        if (!response.headers || !response.headers['content-type']) {\n            response.headers = response.headers || {};\n            response.headers['content-type'] = 'application/json';\n        }\n\n        return response;\n    }\n}\n"]}